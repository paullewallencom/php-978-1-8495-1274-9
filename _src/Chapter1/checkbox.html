<html>
	<head>
		<title>Select/Unselect Checkboxes</title>
		<style type="text/css">
		ul { background-color:#DCDCDC; list-style:none; margin:0pt; padding:0pt; width:350px;}
		li { padding:10px; }
		</style>
	</head>
	<body>
		<ul>
			<li>
				<input type="checkbox" id="handle">
				<label for="handle"><strong>Toggle All Checkboxes</strong></label>
			</li>
			<li>
				<input type="checkbox" class="toggle"/>
				<label>A Study in Scarlet</label>
			</li>
			<li>
				<input type="checkbox" class="toggle"/>
				<label>The Sign of the Four</label>
			</li>
			<li>
				<input type="checkbox" class="toggle"/>
				<label>The Adventures of Sherlock Holmes</label>
			</li>
			<li>
				<input type="checkbox" class="toggle"/>
				<label>The Valley of Fear</label>
			</li>
			<li>
				<input type="checkbox" class="toggle"/>
				<label>His Last Bow</label>
			</li>
			<li><input type="button" id="getValue" value="Get Selected Values"/></li>
			<li id="selected"></li>
		</ul>
		<script type="text/javascript" src="jquery.js"></script>
		<script type="text/javascript">
			$(document).ready(function()
			{
				$('#handle').click(function(){
					if($(this).attr('checked') == true)
						$('.toggle').attr('checked', 'true');
					else
						$('.toggle').removeAttr('checked');
				});

				$('.toggle').click(function(){
					if($('.toggle:checked').length == $('.toggle').length)
						$('#handle').attr('checked', 'true');

					if($('.toggle:checked').length < $('.toggle').length)
						$('#handle').removeAttr('checked');
					
				});
				
				$('#getValue').click(function(){
					var values = '';
					if($('.toggle:checked').length)
					{
						$('.toggle:checked').each(function(){
							values+= $(this).next('label').html() + ' ,';
						});
						$('#selected').html('Selected values are: ' + values);
					}
					else
						$('#selected').html('Nothing selected');
				});
			});
		</script>
	</body>
</html>